[![lerna](https://img.shields.io/badge/maintained%20with-lerna-cc00ff.svg)](https://lerna.js.org/)


# grandcore-docs

## Установка

`npm i grandcore-docs`

## Плагины

### gen-js-jsdoc

`npm i grandcore-docs@gen-js-jsdoc`


## Сборка

- Указывается массив со всеми путями к приложениям
- Записывает номер нового релиза
- Для каждого приложения
	- Парсится package.json
	- Если текущик хэш папки такой же как и в объекте, релиз пропускается. 
	- Если нет - записывается новый хеш и ставится текущий релиз.
	- Запускается npm run build и отправляется на сервера npm

## Работа с монорепозиторием

Для работы с монорепозиторием используется [lerna](https://github.com/lerna/lerna#readme), которая позволяет удобно управлять монорепозиторием. 

Для работы необходимо глобально установить lerna
```
sudo npm install lerna -g
```

Для инициализации монорепозитория необходимо выполнить:

```
npx lerna init 
```
После чего создается файл ```lerna.json```. Также создается файл ```package.json``` и по умолчанию папка ```packges```

### Установка дополнительных зависимостей

Зависимости можно устанавливать классическим способом через ```npm install```, так и через более удобный вариант:
```
lerna add <package-name> /path/package
```
Тогда lerna добавить необходимую зависимость ```package-name``` в наш модуль. Если использовать команду без пути, то lerna добавить зависимость к каждому репозиторию в монорепозитории:
```
lerna add <packge-name>
```
Чтобы выполнить ```npm install``` во всех пакетах и связать локальные пакеты (создать символические ссылки) нужно использовать следующую команду:
```
lerna bootstrap
```

Также можно поднять все зависимости выше в корень:
```
lerna bootstrap --hoist
```

